#include<iostream>
using namespace std;

struct Node
{
    int data;
    Node *next;
};

void push(Node **head, int data)
{
    Node *newnode = new Node;
    newnode->data = data;
    newnode->next = *head;
    *head = newnode;
}

void printList(Node *head)
{
    while (head != NULL)
    {
        printf("%d -> ", head->data);
        head = head->next;
    }

    printf("NULL");
}

Node *finalMaxSumList(Node *a, Node *b)
{
    Node *pa = a;
    Node *pb = b;

    int sumA = 0;
    int sumB = 0;

    while (pa != NULL && pb != NULL)
    {
        if (pa->data == pb->data)
        {
            if (sumA > sumB)
            {
                pa->next = finalMaxSumList(pa->next, pb->next);
                return a;
            }
            else
            {
                pb->next = finalMaxSumList(pa->next, pb->next);
                return b;
            }
        }
        else if (pa->data < pb->data)
        {
            sumA += pa->data;
            pa = pa->next;
        }
        else
        {
            sumB += pb->data;
            pb = pb->next;
        }
    }

    while (pa != NULL)
    {
        sumA += pa->data;
        pa = pa->next;
    }

    while (pb != NULL)
    {
        sumB += pb->data;
        pb = pb->next;
    }

    return sumA > sumB ? a : b;
}

int main()
{
    Node *head1 = NULL, *head2 = NULL;
    push(&head1, 511);
    push(&head1, 240);
    push(&head1, 120);
    push(&head1, 90);
    push(&head1, 30);
    push(&head1, 3);
    push(&head1, 1);

    push(&head2, 249);
    push(&head2, 240);
    push(&head2, 125);
    push(&head2, 90);
    push(&head2, 32);
    push(&head2, 12);
    push(&head2, 3);
    push(&head2, 0);

    head1 = finalMaxSumList(head1, head2);
    printList(head1);
}

/*

1 -> 3 -> 12 -> 32 -> 90 -> 125 -> 240 -> 511 -> NULL

*/
