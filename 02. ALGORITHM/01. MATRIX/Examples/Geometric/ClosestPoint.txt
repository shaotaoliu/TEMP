#include <iostream>
#include <list>
#include <vector>
using namespace std;

struct line
{
    int a, b, c;
    line(int a, int b, int c) : a(a), b(b), c(c)
    {}
};

double distance(double x, double y, pair<double, double> p)
{
    return sqrt((x - p.first) * (x - p.first) + (y - p.second) * (y - p.second));
}

double compute(vector<pair<double, double>> &vec, line l, double X)
{
    double Y = -1 * (l.c + l.a * X) / l.b;
    double sumOfDistances = 0;

    for (int i = 0; i < vec.size(); ++i)
    {
        sumOfDistances += distance(X, Y, vec[i]);
    }

    return sumOfDistances;
}

double findClosest(vector<pair<double, double>> &vec, line l)
{
    double low = vec[0].first;
    double high = low;

    for (int i = 1; i < vec.size(); ++i)
    {
        low = min(low, vec[i].first);
        high = max(high, vec[i].first);
    }

    while (high - low > 1e-6)
    {
        double mid1 = low + (high - low) / 3;
        double mid2 = high - (high - low) / 3;

        double dist1 = compute(vec, l, mid1);
        double dist2 = compute(vec, l, mid2);

        if (dist1 < dist2)
        {
            high = mid2;
        }
        else
        {
            low = mid1;
        }
    }

    return compute(vec, l, (low + high) / 2);
}

int main()
{
    vector<pair<double, double>> vec;
    vec.push_back({-3, -2});
    vec.push_back({-1, 0});
    vec.push_back({-1, 2});
    vec.push_back({1, 2});
    vec.push_back({3, 4});

    line l(1, -1, -3);
    cout << findClosest(vec, l) << endl;
}

/*

20.7652

*/

