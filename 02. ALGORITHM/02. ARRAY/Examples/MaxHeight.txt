#include <iostream>
#include "bits/stdc++.h"
using namespace std;

struct Box
{
    int height, width, depth;
};

int compare(Box a, Box b)
{
    return a.height < b.height;
}

int maxHeight(Box arr[], int n)
{
    sort(arr, arr + n, compare);

    int dp[n] = {0};
    dp[0] = arr[0].height;

    for (int i = 1; i < n; ++i)
    {
        for (int j = 0; j < i; ++j)
        {
            if (arr[i].width > arr[j].width && arr[i].depth > arr[j].depth && dp[i] < dp[j] + arr[i].height)
            {
                dp[i] = dp[j] + arr[i].height;
            }
        }
    }

    int maxx = INT_MIN;
    for (int i = 0; i < n; ++i)
    {
        maxx = max(maxx, dp[i]);
    }

    return maxx;
}

int main()
{
    Box a[] = { {2, 2, 2}, {5, 8, 8}, {6, 10, 10}, {8, 6, 6}, {10, 5, 5} };
    int n = sizeof(a) / sizeof(a[0]);

    int maxx = maxHeight(a, n);
    cout << "Max height: " << maxx;
}

/*

Max height: 13

*/
